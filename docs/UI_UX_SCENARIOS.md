# UI/UX 시나리오 문서

## 개요

이 문서는 CSAT 학습 시스템의 주요 UI/UX 시나리오를 설명합니다. 3-cell 점자 디스플레이 제약을 고려한 음성 우선 UX를 중심으로 작성되었습니다.

---

## 시나리오 1: 수학 문제 학습

### 목표
수학 문제를 점자 디스플레이로 읽고 풀이하는 과정을 실제 수능 시험 방식과 동일하게 학습

### 사용자 플로우

1. **문제 진입**
   - 사용자가 "문항 풀이" 음성 명령으로 문제 페이지 진입
   - 시스템: "문항 풀이 모드입니다. 문제를 풀고 정답 여부를 점자 패턴으로 확인할 수 있습니다."

2. **문제 읽기 (음성 우선)**
   - 시스템: "다음 이차방정식 x² + 2x + 1 = 0의 해를 구하시오" (전체 문제 음성 읽기)
   - 점자 디스플레이: "x²+2x+1=0" (수식 핵심만 3-cell로 표시)

3. **청크 네비게이션**
   - 사용자: "다음" 음성 명령
   - 점자 디스플레이: "해를 구하시오" (다음 3-cell 청크)
   - 시스템: "다음 청크로 이동했습니다."

4. **선택지 읽기**
   - 시스템: "1번: 1, 2번: -1, 3번: 0, 4번: 2" (음성)
   - 점자 디스플레이: 선택지 번호 패턴 (1, 2, 3, 4)

5. **답안 입력**
   - 사용자: "2번" 음성 명령
   - 시스템: "2번을 선택하셨습니다."

6. **결과 확인**
   - 점자 디스플레이: 정답 패턴 (○○●) 또는 오답 패턴 (●○○)
   - 시스템: "정답입니다! 정답은 2번입니다." 또는 "오답입니다. 정답은 2번입니다."

### 기술적 구현

- **과목 전략**: `math` → `braille-chunk` primary, `smart` chunk strategy
- **수식 추출**: `extractFormula()`로 수식 부분만 별도 처리
- **청크 분할**: 수식 단위로 의미 보존하며 분할

---

## 시나리오 2: 국어 지문 학습

### 목표
국어 지문을 점자로 읽고 구조를 파악하는 과정을 실제 수능 시험 방식과 동일하게 학습

### 사용자 플로우

1. **지문 진입**
   - 사용자가 "국어 지문" 음성 명령으로 지문 페이지 진입
   - 시스템: "국어 지문 연습 모드입니다. 지문을 입력하면 구조와 요약을 분석해드립니다."

2. **지문 입력**
   - 사용자: 지문 텍스트 입력 또는 음성으로 말하기
   - 시스템: "지문을 말씀해주세요."

3. **지문 분석**
   - 시스템: "분석 중입니다. 잠시만 기다려주세요."
   - 백엔드: AI를 통한 지문 구조 분석 (요약, 등장인물, 구조, 키워드)

4. **분석 결과 안내 (음성 우선)**
   - 시스템: "요약: [지문 요약 내용]" (음성)
   - 시스템: "등장인물: [인물1], [인물2]" (음성)
   - 시스템: "구조: [구조 설명]" (음성)

5. **키워드 점자 출력**
   - 점자 디스플레이: 핵심 키워드만 3-cell씩 순차 표시
   - 사용자: "다음" 명령으로 다음 키워드로 이동
   - 점자 디스플레이: 다음 키워드 표시

6. **청크 네비게이션**
   - 사용자: "이전" 명령
   - 점자 디스플레이: 이전 키워드로 이동
   - 시스템: "이전 키워드로 이동했습니다."

### 기술적 구현

- **과목 전략**: `korean` → `mixed` primary, `sentence` chunk strategy
- **키워드 추출**: `extractKeywords()`로 핵심 키워드만 추출
- **청크 분할**: 키워드 단위로 분할하여 점자 출력

---

## 시나리오 3: 영어 문제 학습

### 목표
영어 문제를 음성과 점자로 함께 읽고 풀이하는 과정을 실제 수능 시험 방식과 동일하게 학습

### 사용자 플로우

1. **문제 진입**
   - 사용자가 "문항 풀이" 음성 명령으로 문제 페이지 진입
   - 시스템: "문항 풀이 모드입니다."

2. **지문 읽기 (음성 우선)**
   - 시스템: 영어 지문 전체를 음성으로 읽기 (CD/USB 형식, 실제 시험과 동일)
   - 점자 디스플레이: 대기 상태

3. **문제 읽기 (점자)**
   - 점자 디스플레이: 문제 텍스트를 청크로 분할하여 순차 출력
   - 사용자: "다음" 명령으로 다음 청크 읽기

4. **핵심 어휘 표시**
   - 점자 디스플레이: 핵심 어휘만 3-cell씩 표시 ("important", "concept" 등)
   - 시스템: "핵심 어휘: important, concept" (음성)

5. **선택지 읽기**
   - 점자 디스플레이: 선택지를 청크로 분할하여 순차 출력
   - 시스템: "1번: [선택지1], 2번: [선택지2]..." (음성)

6. **답안 입력**
   - 사용자: "3번" 음성 명령
   - 시스템: "3번을 선택하셨습니다."

### 기술적 구현

- **과목 전략**: `english` → `mixed` primary, `word` chunk strategy, `audio-first` special handling
- **어휘 추출**: `extractKeywords()`로 핵심 어휘만 추출
- **청크 분할**: 단어 단위로 분할

---

## 시나리오 4: 교재 읽기 (Textbook)

### 목표
교재 내용을 점자로 읽고 학습하는 과정

### 사용자 플로우

1. **교재 진입**
   - 사용자가 "수능특강" 음성 명령으로 교재 페이지 진입
   - 시스템: "수능특강 학습 모드입니다."

2. **교재 선택**
   - 시스템: "수능특강 수학, 수능특강 국어, 수능특강 영어 중 선택해주세요."
   - 사용자: "수학" 음성 명령
   - 시스템: "수능특강 수학을 선택하셨습니다."

3. **단원 선택**
   - 시스템: "1단원: 이차방정식, 2단원: 함수, 3단원: 미적분 중 선택해주세요."
   - 사용자: "1단원" 음성 명령
   - 시스템: "1단원 이차방정식을 선택하셨습니다."

4. **단원 내용 읽기 (음성 우선)**
   - 시스템: "1단원 이차방정식입니다." (제목)
   - 시스템: 단원 내용 전체를 음성으로 읽기

5. **핵심 개념 점자 출력**
   - 점자 디스플레이: 핵심 개념만 3-cell씩 표시
   - 사용자: "다음" 명령으로 다음 개념으로 이동
   - 점자 디스플레이: 다음 개념 표시

6. **반복 학습**
   - 사용자: "반복" 음성 명령
   - 시스템: "현재 개념을 다시 읽습니다."
   - 점자 디스플레이: 현재 개념 다시 표시

### 기술적 구현

- **과목별 전략 적용**: 교재의 과목에 따라 다른 전략 사용
- **핵심 추출**: `extractKeywords()`로 핵심 개념만 추출
- **청크 분할**: 과목별 전략에 따라 분할

---

## 시나리오 5: 점자 속도 훈련

### 목표
짧은 점자 패턴을 빠르게 읽는 속도를 측정하고 훈련

### 사용자 플로우

1. **훈련 진입**
   - 사용자가 "점자 속도" 음성 명령으로 훈련 페이지 진입
   - 시스템: "점자 속도 훈련 모드입니다. 짧은 패턴을 읽는 속도를 측정합니다."

2. **훈련 시작**
   - 사용자: "시작" 음성 명령
   - 시스템: "훈련을 시작합니다."
   - 점자 디스플레이: 첫 번째 패턴 표시 (예: 숫자 패턴 1)

3. **패턴 읽기**
   - 점자 디스플레이: 3초마다 다음 패턴으로 자동 이동
   - 패턴 유형: 숫자, 추세, 상태 패턴

4. **훈련 완료**
   - 시스템: "훈련이 완료되었습니다. 속도는 분당 [N]개 패턴입니다."
   - 점자 디스플레이: 정지 패턴

### 기술적 구현

- **패턴 생성**: `BraillePatternFactory`로 다양한 패턴 생성
- **자동 재생**: 3초 간격으로 패턴 자동 변경
- **속도 측정**: 패턴 수 / 시간으로 속도 계산

---

## 시나리오 6: 시험시간 관리 (ExamTimer)

### 목표
과목별 시간을 할당하고 타이머를 관리하여 실제 시험 환경과 유사하게 연습

### 사용자 플로우

1. **타이머 진입**
   - 사용자가 "시험시간" 음성 명령으로 타이머 페이지 진입
   - 시스템: "시험시간 관리 모드입니다. 과목별 시간을 할당하고 타이머를 관리할 수 있습니다."

2. **시간 설정**
   - 시스템: "과목을 선택해주세요. 국어, 수학, 영어 중 선택하세요."
   - 사용자: "수학" 음성 명령
   - 시스템: "수학을 선택하셨습니다. 할당 시간을 말씀해주세요."
   - 사용자: "90분" 음성 명령
   - 시스템: "90분으로 설정되었습니다."

3. **타이머 시작**
   - 사용자: "시작" 음성 명령
   - 시스템: "타이머를 시작했습니다."
   - 점자 디스플레이: 시작 패턴 (●●●)

4. **시간 경과 안내**
   - 시스템: "10분 남았습니다." (10분 남았을 때)
   - 시스템: "5분 남았습니다." (5분 남았을 때)
   - 시스템: "1분 남았습니다." (1분 남았을 때)

5. **타이머 종료**
   - 시스템: "타이머가 종료되었습니다."
   - 점자 디스플레이: 정지 패턴

### 기술적 구현

- **시간 관리**: 1초 단위로 카운트다운
- **경고 알림**: 10분, 5분, 1분 남았을 때 음성 안내
- **점자 패턴**: 시작/일시정지/정지 패턴으로 상태 표시

---

## 공통 기능

### 청크 네비게이션 명령

모든 페이지에서 공통으로 사용 가능한 음성 명령:

- **"다음"**: 다음 청크로 이동
- **"이전"**: 이전 청크로 이동
- **"반복"**: 현재 청크 다시 읽기
- **"처음"**: 첫 번째 청크로 이동
- **"마지막"**: 마지막 청크로 이동

### 점자 디스플레이 설정

- **셀 수 조정**: "X개 셀" 명령으로 셀 수 변경 (1-20개)
- **스크롤 모드**: "자동" 또는 "수동" 명령으로 모드 변경
- **청크 전략**: "단어", "문장", "스마트" 명령으로 전략 변경

---

## 확장성 고려사항

### 현재 (3-cell)

- 텍스트를 3-cell 청크로 분할
- 사용자가 "다음" 명령으로 다음 청크 읽기
- 긴 내용은 음성으로 보완

### 확장 후 (6-cell)

- 설정만 변경: `maxCells: 6`
- 더 긴 텍스트를 한 번에 표시 가능
- 자동 스크롤 모드 지원

### 확장 후 (12-cell)

- 설정만 변경: `maxCells: 12`
- 거의 전체 문제를 한 번에 표시 가능
- 음성 보완 최소화

### 확장 후 (20-cell)

- 설정만 변경: `maxCells: 20`
- 전체 문제를 한 번에 표시 가능
- 음성 보완 불필요

---

## 접근성 고려사항

### 음성 우선 UX

- 모든 콘텐츠는 먼저 음성으로 읽기
- 점자는 보조적으로 표시
- 음성 명령으로 모든 기능 제어 가능

### 키보드 네비게이션

- 모든 버튼은 키보드로 접근 가능
- Tab 키로 순차 이동
- Enter 키로 선택

### ARIA 레이블

- 모든 UI 요소에 적절한 ARIA 레이블 제공
- 스크린 리더 호환성 보장

---

## 성공 기준

1. ✅ 과목별로 다른 학습 방식 적용
2. ✅ 3-cell 제약 내에서 실제 시험 방식과 동일한 학습
3. ✅ 음성 우선 UX 구현
4. ✅ 확장 가능한 구조 (설정만 변경하면 확장)
5. ✅ 사용자가 실제 수능 시험과 유사한 경험
6. ✅ 디자인 패턴으로 유지보수성 향상

